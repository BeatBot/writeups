### Challenge description

One of our security analysts learned to avoid printing out flag when obfuscating code!
Unfortunately, now they've lost that flag.
Maybe you can help them get it back. 

### Solution

Running `file` on it we see `pydata` so we grep for `py` to see if anything sticks out and yes, we see the string `_pyinstaller_pyz`.

We extract the contents by uploading the file to this website [https://pyinstxtractor-web.netlify.app/](https://pyinstxtractor-web.netlify.app/).

From here, we unzip and check the files. One is called `challenge.pyc` so we run it throug [this](https://pylingual.io/view_chimera?identifier=f15db1b6113394fb88fb6abdde75c36ee1f26a156c58a84049e12c59c1152576) site and get the source back.

If we try runnig it with `python3 challenge.pyc_Decompiled.py` we get the output `Save your comments about this obfuscation.` so we need to do a bit more.

We write a script for solving it:
```python
import zlib
import base64
import os

data = ''

with open('challenge.pyc_Decompiled.py', 'r') as f:
	data = f.read()

def deobf(data):
	data = data.split('(b')[1]
	data = data[1:-3]
	data = data[::-1]
	data = base64.b64decode(data)
	data = zlib.decompress(data)
	data = data.decode()
	return data

while True:
	try:
		data = deobf(data)
		if 'flag' in data:
			print(data)
			exit(0)
	except Exception:
		data = data.replace('# ', '').replace('print(\'Save your comments about this obfuscation.\')', '')
		with open('out1.py', 'w') as f:
			f.write(data)
		data = os.popen('python3 out1.py').read()

		with open('out2.py', 'w') as f:
			f.write(data)
		data = os.popen('python3 out2.py').read()
```
flag{4f657a3fb50ba3ab42b42f67655599e1}